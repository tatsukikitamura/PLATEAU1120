<!-- データ表示コントロールパネル -->
<div id="control-panel" style="position: absolute; top: 10px; left: 10px; z-index: 1000; background: rgba(255, 255, 255, 0.95); padding: 15px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2); max-width: 300px;">
  <h3 style="margin: 0 0 15px 0; font-size: 16px; color: #333; border-bottom: 2px solid #007bff; padding-bottom: 8px;">データ表示</h3>
  <button id="point-button" style="margin: 5px; padding: 8px 16px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">Point</button>
  <button id="line-button" style="margin: 5px; padding: 8px 16px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">Line</button>
  <button id="multi-line-button" style="margin: 5px; padding: 8px 16px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">Multi Line</button>
  <button id="all-data-button" style="margin: 5px; padding: 8px 16px; background-color: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">全てのデータ</button>
  <% if request.path.include?('cesium') %>
    <button id="osm-buildings-button" style="margin: 5px; padding: 8px 16px; background-color: #17a2b8; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">OSM Buildings</button>
  <% end %>
</div>

<!-- Point選択コンテナ -->
<div id="point-selection-container" style="position: absolute; top: 80px; left: 10px; z-index: 1000; background: rgba(255, 255, 255, 0.95); padding: 15px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2); max-width: 300px; display: none;">
  <h4 style="margin: 0 0 10px 0; font-size: 14px; color: #333;">Pointデータ選択</h4>
  <button id="landmark-button" style="margin: 3px; padding: 6px 12px; background-color: #FF6B6B; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">ランドマーク</button>
  <button id="park-button" style="margin: 3px; padding: 6px 12px; background-color: #51CF66; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">公園</button>
  <button id="shelter-button" style="margin: 3px; padding: 6px 12px; background-color: #339AF0; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">避難所</button>
  <button id="station-button" style="margin: 3px; padding: 6px 12px; background-color: #FFA500; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">駅</button>
  <button id="all-points-button" style="margin: 3px; padding: 6px 12px; background-color: #6741D9; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">すべてのPoint</button>
</div>

<!-- ホームボタンとフィルターボタン -->
<div style="position: absolute; top: 10px; right: 10px; z-index: 1000; display: flex; gap: 10px;">
  <button id="home-button" style="padding: 10px 15px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);">
    <i class="fas fa-home me-1"></i>
    ホーム
  </button>
  <button id="filter-toggle-btn" style="padding: 10px 16px; background-color: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 600; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);">フィルター</button>
  <button id="google-maps-toggle-btn" style="padding: 10px 16px; background-color: #ff6b35; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 600; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);">Google Maps</button>
</div>

<script>
  // ホームボタンのイベントリスナーを追加
  document.addEventListener('DOMContentLoaded', function() {
    const homeButton = document.getElementById('home-button');
    if (homeButton) {
      homeButton.addEventListener('click', () => {
        window.location.href = '/';
      });
    }
  });
</script>

<!-- フィルターコンテナ -->
<div id="filter-container" style="position: absolute; top: 50px; right: 10px; z-index: 1000; background: rgba(255, 255, 255, 0.95); padding: 15px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2); max-width: 350px; max-height: calc(100vh - 70px); overflow-y: auto; display: none;">
  <h3 style="margin: 0 0 15px 0; font-size: 16px; color: #333; border-bottom: 2px solid #28a745; padding-bottom: 8px;">データフィルター</h3>
  <div id="dynamic-filter-form">
    <!-- スキーマから動的に生成されるフィルタフィールドがここに表示されます -->
  </div>
  <div id="filter-buttons" style="margin-top: 15px; display: flex; gap: 10px;">
    <button id="apply-filter-btn" style="flex: 1; padding: 10px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 600; background-color: #28a745; color: white;">フィルタ適用</button>
    <button id="clear-filter-btn" style="flex: 1; padding: 10px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 600; background-color: #6c757d; color: white;">クリア</button>
  </div>
</div>

<!-- Google Mapsコンテナ -->
<div id="google-maps-container" style="position: absolute; top: 50px; right: 10px; z-index: 1000; background: rgba(255, 255, 255, 0.95); padding: 15px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2); max-width: 350px; max-height: calc(100vh - 70px); overflow-y: auto; display: none;">
  <h3 style="margin: 0 0 15px 0; font-size: 16px; color: #333; border-bottom: 2px solid #ff6b35; padding-bottom: 8px;">Google Maps API</h3>
  
  <!-- Places検索フォーム -->
  <div style="margin-bottom: 20px; padding: 10px; background: #f8f9fa; border-radius: 5px;">
    <h4 style="margin: 0 0 10px 0; font-size: 14px; color: #333;">🍽️ レストラン・POI検索</h4>
    <div style="margin-bottom: 8px;">
      <label style="display: block; font-size: 12px; color: #666; margin-bottom: 3px;">検索クエリ:</label>
      <input type="text" id="places-query-input" placeholder="例: レストラン, カフェ" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 3px; font-size: 12px;">
    </div>
    <div style="margin-bottom: 8px;">
      <label style="display: block; font-size: 12px; color: #666; margin-bottom: 3px;">位置（住所）:</label>
      <input type="text" id="places-location-input" placeholder="例: 東京駅" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 3px; font-size: 12px;">
    </div>
    <div style="margin-bottom: 8px;">
      <label style="display: block; font-size: 12px; color: #666; margin-bottom: 3px;">検索半径（m）:</label>
      <input type="number" id="places-radius-input" value="5000" min="1" max="50000" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 3px; font-size: 12px;">
    </div>
    <div style="margin-bottom: 8px;">
      <label style="display: block; font-size: 12px; color: #666; margin-bottom: 3px;">タイプ:</label>
      <select id="places-type-input" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 3px; font-size: 12px;">
        <option value="">すべて</option>
        <option value="restaurant">レストラン</option>
        <option value="cafe">カフェ</option>
        <option value="hotel">ホテル</option>
        <option value="gas_station">ガソリンスタンド</option>
        <option value="hospital">病院</option>
        <option value="bank">銀行</option>
      </select>
    </div>
    <button id="places-search-btn" style="width: 100%; padding: 8px; background-color: #ff6b35; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 600;">検索</button>
  </div>

  <!-- Directions検索フォーム -->
  <div style="margin-bottom: 20px; padding: 10px; background: #f8f9fa; border-radius: 5px;">
    <h4 style="margin: 0 0 10px 0; font-size: 14px; color: #333;">🗺️ ルート検索</h4>
    <div style="margin-bottom: 8px;">
      <label style="display: block; font-size: 12px; color: #666; margin-bottom: 3px;">出発地:</label>
      <input type="text" id="directions-origin-input" placeholder="例: 東京駅" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 3px; font-size: 12px;">
    </div>
    <div style="margin-bottom: 8px;">
      <label style="display: block; font-size: 12px; color: #666; margin-bottom: 3px;">目的地:</label>
      <input type="text" id="directions-destination-input" placeholder="例: 渋谷駅" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 3px; font-size: 12px;">
    </div>
    <div style="margin-bottom: 8px;">
      <label style="display: block; font-size: 12px; color: #666; margin-bottom: 3px;">移動手段:</label>
      <select id="directions-mode-input" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 3px; font-size: 12px;">
        <option value="driving">車</option>
        <option value="walking">徒歩</option>
        <option value="bicycling">自転車</option>
        <option value="transit">公共交通機関</option>
      </select>
    </div>
    <button id="directions-btn" style="width: 100%; padding: 8px; background-color: #ff6b35; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 600;">ルート検索</button>
  </div>

  <!-- Geocoding検索フォーム -->
  <div style="margin-bottom: 20px; padding: 10px; background: #f8f9fa; border-radius: 5px;">
    <h4 style="margin: 0 0 10px 0; font-size: 14px; color: #333;">📍 住所検索</h4>
    <div style="margin-bottom: 8px;">
      <label style="display: block; font-size: 12px; color: #666; margin-bottom: 3px;">住所:</label>
      <input type="text" id="geocode-address-input" placeholder="例: 東京都渋谷区道玄坂1-2-3" style="width: 100%; padding: 6px; border: 1px solid #ddd; border-radius: 3px; font-size: 12px;">
    </div>
    <button id="geocode-btn" style="width: 100%; padding: 8px; background-color: #ff6b35; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 600;">座標検索</button>
  </div>

  <!-- クリアボタン -->
  <div style="text-align: center;">
    <button id="clear-google-maps-btn" style="padding: 8px 16px; background-color: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 600;">Google Mapsデータをクリア</button>
  </div>
</div>


